<!DOCTYPE html>
<html lang="ko">
<head>
    <title>로그인 - JDK</title>
    {{> layout/head}}
    <style>
        .login-wrap{max-width:640px; margin:80px auto 0; padding:0 16px;}
        .login-title{font-weight:800; margin-bottom:24px;}
        .login-card{border:1px solid #e8ebf2; border-radius:12px; padding:24px; box-shadow:0 2px 10px rgba(0,0,0,.03);}
        .login-card .form-control{background:#f4f5f7;}
        .login-actions .btn{height:48px; font-weight:700;}
        .login-links{margin-top:10px;}
        .login-links a{color:#6c757d; text-decoration:none;}
        .login-links a:hover{text-decoration:underline;}
        .brand-bar{height:68px; background:#2F57F6;}
    </style>
</head>
<body>
<!-- src/main/resources/templates/view/login.mustache -->
{{> layout/header}}

<div class="container mt-5" style="max-width:540px;">
    <h2 class="fw-bold mb-4 text-center">로그인</h2>

    <form action="/view/login" method="post" class="card p-4 shadow-sm">
        <!-- ★ CSRF 토큰: 꼭 있어야 함 -->
        <input type="hidden" name="{{_csrf.parameterName}}" value="{{_csrf.token}}">

        <div class="mb-3">
            <label class="form-label">이메일</label>
            <!-- ★ SecurityConfig에서 usernameParameter("username") -->
            <input type="text" name="username" class="form-control" placeholder="email@example.com" required>
        </div>

        <div class="mb-3">
            <label class="form-label">비밀번호</label>
            <!-- ★ passwordParameter("password") -->
            <input type="password" name="password" class="form-control" required>
        </div>

        {{#error}}
            <div class="alert alert-danger">이메일 또는 비밀번호가 올바르지 않습니다.</div>
        {{/error}}

        <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary">로그인</button>
            <a href="/view/signup?user=member" class="btn btn-outline-secondary">회원가입</a>
        </div>
    </form>
</div>

{{> layout/footer}}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
