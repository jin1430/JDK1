{{> layout/header}}

<div class="container mt-5" style="max-width: 600px;">
    <h2 class="fw-bold mb-4 text-center">íšŒì›ê°€ì…</h2>

    {{#error}}
        <div class="alert alert-danger">{{error}}</div>
    {{/error}}

    <form method="post" action="/view/signup">
        <input type="hidden" name="{{_csrf.parameterName}}" value="{{_csrf.token}}">
        <div class="mb-3">
            <label>ì´ë©”ì¼</label>
            <input type="email" name="email" class="form-control" required>
        </div>

        <div class="mb-3">
            <label>ë¹„ë°€ë²ˆí˜¸</label>
            <input type="password" name="password" class="form-control" required>
        </div>

        <div class="mb-3">
            <label>ì´ë¦„</label>
            <input type="text" name="username" class="form-control" required>
        </div>

        <div class="mb-3">
            <label>ì£¼ì†Œ</label>
            <input type="text" name="address" class="form-control" required>
        </div>

        <div class="mb-3">
            <label>ìƒë…„ì›”ì¼</label>
            <input type="date" name="birthday" class="form-control" required>
        </div>

        <div class="mb-3">
            <label>íšŒì› ìœ í˜•</label>
            <select name="role" id="role" class="form-control" onchange="toggleLawyerField()" required>
                <option value="MEMBER">ì¼ë°˜ íšŒì›</option>
                <option value="LAWYER">ë³€í˜¸ì‚¬</option>
            </select>
        </div>

        <!-- ğŸ”½ ë³€í˜¸ì‚¬ ì„ íƒ ì‹œë§Œ ë³´ì´ëŠ” ìê²©ì¦ ë²ˆí˜¸ ì…ë ¥ì°½ -->
        <div class="mb-3" id="certificateDiv" style="display: none;">
            <label>ìê²©ì¦ ë²ˆí˜¸</label>
            <input type="text" name="certificateNumber" class="form-control">
        </div>

        <div class="text-center mt-4">
            <button class="btn btn-primary w-100">íšŒì›ê°€ì…</button>
        </div>
    </form>
</div>

<!-- ğŸ”½ JavaScriptë¡œ ì„ íƒì— ë”°ë¼ ë³´ì—¬ì£¼ê¸° -->
<script>
    function toggleLawyerField() {
        const role = document.getElementById('role').value;
        const certDiv = document.getElementById('certificateDiv');
        certDiv.style.display = (role === 'LAWYER') ? 'block' : 'none';
    }

    // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œì—ë„ ì ìš©
    window.addEventListener("DOMContentLoaded", toggleLawyerField);
</script>

{{> layout/footer}}
